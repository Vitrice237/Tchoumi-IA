<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TchoumiIA - Assistant Intelligence Artificielle</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #7E57C2;
            --secondary-color: #5E35B1;
            --accent-color: #FF4081;
            --light-color: #f5f5f5;
            --dark-color: #263238;
            --success-color: #00C853;
            --warning-color: #FFAB00;
            --error-color: #FF5252;
            --user-msg-bg: #EDE7F6;
            --ai-msg-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f0f2f5;
            color: var(--dark-color);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Page de chargement */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }

        .logo-loader {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 2rem;
        }

        .logo-loader i {
            font-size: 4rem;
            color: var(--dark-color);
            margin-bottom: 1rem;
        }

        .logo-loader h1 {
            color: var(--dark-color);
            font-size: 2.5rem;
            font-weight: 700;
        }
        .logo-loader img{
            width: 250px;
            border-radius: 50%;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--dark-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Interface principale */
        .container {
            display: flex;
            flex-direction: column;
            height: 100%;
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: var(--shadow);
            display: none;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: var(--gradient);
            color: white;
            box-shadow: var(--shadow);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .logo i {
            font-size: 1.8rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }

        nav a:hover {
            opacity: 0.8;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-color);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: 600;
            cursor: pointer;
        }

        .mobile-menu {
            display: none;
            font-size: 1.5rem;
        }

        /* Main content */
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background-color: var(--light-color);
            padding: 1.5rem 1rem;
            border-right: 1px solid #e5e7eb;
            overflow-y: auto;
            transition: transform 0.3s ease;
        }

        .new-chat-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            margin-bottom: 1.5rem;
            transition: background 0.3s;
        }

        .new-chat-btn:hover {
            background: var(--secondary-color);
        }

        .sidebar-section {
            margin-bottom: 2rem;
        }

        .sidebar-section h3 {
            margin-bottom: 1rem;
            color: var(--dark-color);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .history-item {
            padding: 0.75rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .history-item:hover {
            background-color: #e5e7eb;
        }

        .history-item.active {
            background-color: #E8EAF6;
            color: var(--primary-color);
            font-weight: 500;
        }
        .history-item a{
            text-decoration: none;
            color: #2d2d2d;
        }

        /* Chat area */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: white;
        }

        .chat-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .chat-actions button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            color: var(--dark-color);
            margin-left: 0.75rem;
            transition: color 0.3s;
        }

        .chat-actions button:hover {
            color: var(--primary-color);
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .message {
            max-width: 80%;
            padding: 1rem 1.25rem;
            border-radius: 12px;
            line-height: 1.5;
            position: relative;
        }

        .user-message {
            align-self: flex-end;
            background-color: var(--user-msg-bg);
            border: 1px solid #D1C4E9;
        }

        .ai-message {
            align-self: flex-start;
            background-color: var(--ai-msg-bg);
            box-shadow: var(--shadow);
        }

        .message-header {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .message-header i {
            margin-right: 0.5rem;
        }

        .user-header {
            color: var(--primary-color);
        }

        .ai-header {
            color: var(--success-color);
        }

        .message-content {
            line-height: 1.6;
        }

        .message-content pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 0.5rem 0;
            font-family: 'Fira Code', monospace;
        }

        .message-content code {
            background: #f5f5f5;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
        }

        .message-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .message-actions button {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            font-size: 0.9rem;
            transition: color 0.3s;
        }

        .message-actions button:hover {
            color: var(--primary-color);
        }

        /* Input area */
        .input-container {
            padding: 1.25rem 1.5rem;
            border-top: 1px solid #e5e7eb;
            background-color: white;
        }

        .input-box {
            display: flex;
            gap: 0.75rem;
            background-color: var(--light-color);
            padding: 0.75rem 1rem;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }

        .input-box:focus-within {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(126, 87, 194, 0.2);
        }

        .input-box input {
            flex: 1;
            border: none;
            outline: none;
            background: transparent;
            font-size: 1rem;
            color: var(--dark-color);
        }

        .input-actions {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .file-input {
            display: none;
        }

        .input-actions button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            color: var(--dark-color);
            transition: color 0.3s;
        }

        .input-actions button:hover {
            color: var(--primary-color);
        }

        .send-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .send-button:hover {
            background-color: var(--secondary-color);
        }

        /* Suggestions de questions */
        .questions-suggestions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            padding: 1rem 1.5rem;
            border-top: 1px solid #e5e7eb;
            background-color: var(--light-color);
        }

        .question-card {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--shadow);
        }

        .question-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .question-card h4 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .question-card p {
            color: #666;
            font-size: 0.9rem;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 1rem;
            background-color: var(--light-color);
            color: var(--dark-color);
            font-size: 0.9rem;
            border-top: 1px solid #e5e7eb;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                z-index: 100;
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .mobile-menu {
                display: block;
            }

            nav ul {
                display: none;
            }

            .message {
                max-width: 90%;
            }
            
            .questions-suggestions {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .logo span {
                font-size: 1.2rem;
            }

            .chat-header {
                padding: 1rem;
            }

            .chat-messages {
                padding: 1rem;
            }

            .input-container {
                padding: 1rem;
            }
        }

        /* Animation */
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .typing-indicator {
            display: flex;
            gap: 0.25rem;
            padding: 0.5rem 1rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--dark-color);
            animation: pulse 1.5s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h2 {
            color: var(--dark-color);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .modal-body {
            margin-bottom: 1.5rem;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        .modal-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }

        .modal-btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .modal-btn-secondary {
            background: #e5e7eb;
            color: var(--dark-color);
        }
    </style>
</head>
<body>
    <!-- Page de chargement -->
    <div id="loading-screen">
        <div class="logo-loader">
            <img src="ima/tchoumiIA.jpg" alt="tchoumiIA">
            <h1>TchoumiIA</h1>
        </div>
        <div class="loader"></div>
    </div>

    <!-- Interface principale -->
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-robot"></i>
                <span>TchoumiIA</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#"><i class="fas fa-home"></i> Accueil</a></li>
                    <li><a href="#"><i class="fas fa-comments"></i> Discussions</a></li>
                    <li><a href="#"><i class="fas fa-cog"></i> Paramètres</a></li>
                </ul>
            </nav>
            <!-- <div class="user-menu">
                <div class="user-avatar">U</div>
            </div> -->
            <div class="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
        </header>

        <div class="main-content">
            <aside class="sidebar">
                <button class="new-chat-btn" id="new-chat-btn">
                    <i class="fas fa-plus"></i>
                    Nouvelle discussion
                </button>
                
                <div class="sidebar-section">
                    <h3><i class="fas fa-clock"></i> Historique</h3>
                    <div class="history-item active">
                        <i class="fas fa-message"></i>
                        <span>Nouvelle discussion</span>
                    </div>
                    <div class="history-item">
                        <i class="fas fa-message"></i>
                        <span>Explications Python</span>
                    </div>
                    <div class="history-item">
                        <i class="fas fa-message"></i>
                        <span>Idées de projet</span>
                    </div>
                    <div class="history-item">
                        <i class="fas fa-message"></i>
                        <span>Recherche sur l'IA</span>
                    </div>
                    <div class="history-item">
                         <a href="https://wa.me/+237677201028" target="_blank"><i class="fab fa-whatsapp"></i>
                        <span>Envoyer un avis</span></a>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3><i class="fas fa-lightbulb"></i> Suggestions</h3>
                    <div class="history-item" data-prompt="Explique le machine learning">
                        <i class="fas fa-question"></i>
                        <span>Explique le machine learning</span>
                    </div>
                    <div class="history-item" data-prompt="Génère un code Python pour trier une liste">
                        <i class="fas fa-code"></i>
                        <span>Génère un code Python</span>
                    </div>
                    <div class="history-item" data-prompt="Résume le concept de deep learning">
                        <i class="fas fa-book"></i>
                        <span>Résume ce concept</span>
                    </div>
                </div>
            </aside>

            <section class="chat-container">
                <div class="chat-header">
                    <div class="chat-title">Discussion actuelle</div>
                    <div class="chat-actions">
                        <button title="Nouvelle discussion" id="header-new-chat"><i class="fas fa-plus"></i></button>
                        <button title="Paramètres" id="settings-btn"><i class="fas fa-cog"></i></button>
                    </div>
                </div>

                <div class="chat-messages" id="chat-messages">
                    <div class="message ai-message">
                        <div class="message-header ai-header">
                            <i class="fas fa-robot"></i>
                            <span>TchoumiIA</span>
                        </div>
                        <div class="message-content">
                            <p>Bonjour ! Je suis TchoumiIA, votre assistant par intelligence artificielle développer par Tchoumi Vitrice. Comment puis-je vous aider aujourd'hui ?</p>
                        </div>
                        <div class="message-actions">
                            <button><i class="fas fa-copy"></i> Copier</button>
                            <button><i class="fas fa-thumbs-up"></i></button>
                            <button><i class="fas fa-thumbs-down"></i></button>
                        </div>
                    </div>
                </div>

                <div class="questions-suggestions">
                    <div class="question-card" data-question="Bonjour">
                        <h4>Salutation</h4>
                        <p>Dire bonjour à TchoumiIA</p>
                    </div>
                    <div class="question-card" data-question="Qui t'a créé ?">
                        <h4>Origine</h4>
                        <p>En savoir plus sur mes créateurs</p>
                    </div>
                    <div class="question-card" data-question="Que peux-tu faire ?">
                        <h4>Capacités</h4>
                        <p>Découvrir mes fonctionnalités</p>
                    </div>
                    <div class="question-card" data-question="Comment fonctionnes-tu ?">
                        <h4>Technologie</h4>
                        <p>Comprendre mon fonctionnement</p>
                    </div>
                </div>

                <div class="input-container">
                    <div class="input-box">
                        <input type="text" id="message-input" placeholder="Posez votre question a TchoumiIA ici...">
                        <input type="file" id="file-input" class="file-input" multiple>
                        <div class="input-actions">
                            <button title="Joindre un fichier" id="attach-file-btn"><i class="fas fa-paperclip"></i></button>
                            <button title="Historique des discussions" id="history-btn"><i class="fas fa-history"></i></button>
                            <button class="send-button" id="send-button"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <footer>
            <p>TchoumiIA &copy; 2023 - Assistant Intelligence Artificielle - Tous droits réservés Tchoumi Vitrice</p>
        </footer>
    </div>

    <!-- Modal Paramètres -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Paramètres</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Options de configuration de votre compte et préférences.</p>
                <!-- Contenu des paramètres -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary">Annuler</button>
                <button class="modal-btn modal-btn-primary">Sauvegarder</button>
            </div>
        </div>
    </div>

    <script>
        // Base de données de questions et réponses
        const questionAnswerDatabase = {
            "bonjour": ["Bonjour ! Comment puis-je vous aider aujourd'hui ?", "Salut ! Content de vous revoir. Que souhaitez-vous savoir ?", "Hello ! Comment ça va ?"],
            "salut": ["Salut ! Ravie de vous parler. Comment puis-je vous assister ?", "Coucou ! Comment puis-je vous aider aujourd'hui ?", "Salutations ! De quoi aimeriez-vous discuter ?"],
            "coucou": ["Coucou ! Comment allez-vous aujourd'hui ?", "Hey ! Content de vous revoir. Que souhaitez-vous explorer ?", "Coucou ! De quoi avez-vous besoin ?"],
            "qui t'a créé": ["J'ai été créé par Tchoumi Vitrice un développeur passionné par l'intelligence artificielle.", "Mon développement est le fruit du travail de Tchoumi Vitrice dédiée à l'innovation technologique.", "Tchoumi Vitrice un jeune camerounais passionné de l'intelligence artificielle."],
            "que peux-tu faire": ["Je peux répondre à vos questions, générer du code, expliquer des concepts, aider à la résolution de problèmes et bien plus encore !", "Mes capacités incluent la génération de texte, la création de code, l'explication de concepts complexes et l'assistance générale.", "Je suis là pour répondre à vos questions, vous aider dans vos projets et vous fournir des informations précises et utiles."],
            "comment fonctionnes-tu": ["Je fonctionne grâce à des modèles de langage avancés qui me permettent de comprendre et de générer du texte de manière contextuelle.", "Mon fonctionnement repose sur l'intelligence artificielle et le traitement du langage naturel pour comprendre et répondre à vos demandes.", "J'utilise des algorithmes d'apprentissage automatique pour analyser votre question et générer la réponse la plus pertinente."],
            "hello": ["Hello ! Comment puis-je vous aider ?", "Hi there! What can I do for you today?", "Hello ! En quoi puis-je vous être utile ?"],
            "hey": ["Hey ! Comment ça va ?", "Hey ! De quoi avez-vous besoin ?", "Hey ! Content de vous entendre. Comment puis-je aider ?"],
            "quelle est ta mission": ["Ma mission est de vous assister en fournissant des réponses précises et utiles à vos questions.", "Je suis conçu pour vous aider à accomplir vos tâches plus efficacement en fournissant des informations pertinentes.", "Mon objectif principal est de vous assister dans vos projets et de répondre à vos questions du mieux que je peux."],
            "merci": ["Avec plaisir ! N'hésitez pas si vous avez d'autres questions.", "De rien ! Je suis là pour ça.", "Je vous en prie ! N'hésitez pas à me solliciter à nouveau."],
            "au revoir": ["Au revoir ! À bientôt.", "À la prochaine ! N'hésitez pas à revenir si vous avez besoin d'aide.", "Bye ! Prenez soin de vous."],
            "bye": ["Bye ! À bientôt.", "À la prochaine !", "Salut ! Revenez quand vous voulez."],
            "qui est tchoumi vitrice": ["Merci pour votre question Tchoumi Vitrice est le créateur de TchoumiIA il est née le 6 juin 2005 a yaounde Cameroun, as tu besoin de plus de details sur tchoumi vitrice"],
            "qui est tchoumi": ["Merci pour votre question Tchoumi Vitrice est le créateur de TchoumiIA il est née le 6 juin 2005 a yaounde Cameroun, as tu besoin de plus de details sur tchoumi vitrice"],
            "qui est vitrice": ["Merci pour votre question Tchoumi Vitrice est le créateur de TchoumiIA il est née le 6 juin 2005 a yaounde Cameroun, as tu besoin de plus de details sur tchoumi vitrice"],
            "code python": ["Voici un exemple de code Python :", "Bien sûr, voici un snippet Python utile :", "Je peux vous fournir ce code Python :"],
            "aide": ["Bien sûr ! Dites-moi de quoi vous avez besoin.", "Je suis là pour ça. Quelle est votre question ?", "Comment puis-je vous aider ? Décrivez-moi votre problème."]
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Éléments DOM
            const loadingScreen = document.getElementById('loading-screen');
            const container = document.querySelector('.container');
            const mobileMenuButton = document.querySelector('.mobile-menu');
            const sidebar = document.querySelector('.sidebar');
            const sendButton = document.getElementById('send-button');
            const messageInput = document.getElementById('message-input');
            const chatMessages = document.getElementById('chat-messages');
            const attachFileBtn = document.getElementById('attach-file-btn');
            const fileInput = document.getElementById('file-input');
            const newChatBtn = document.getElementById('new-chat-btn');
            const headerNewChat = document.getElementById('header-new-chat');
            const settingsBtn = document.getElementById('settings-btn');
            const settingsModal = document.getElementById('settings-modal');
            const closeModalBtn = document.querySelector('.close-modal');
            const historyItems = document.querySelectorAll('.history-item');
            const questionCards = document.querySelectorAll('.question-card');
            
            // Simuler le chargement et aller directement à l'interface
            setTimeout(() => {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    container.style.display = 'flex';
                }, 500);
            }, 4500);
            
            // Toggle sidebar on mobile
            mobileMenuButton.addEventListener('click', function() {
                sidebar.classList.toggle('open');
            });
            
            // Gestion de l'envoi de fichiers
            attachFileBtn.addEventListener('click', function() {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', function() {
                if (this.files.length > 0) {
                    const fileName = this.files[0].name;
                    addMessage(`Fichier joint: ${fileName}`, 'user');
                    simulateAIResponse("J'ai bien reçu votre fichier. Comment puis-je vous aider avec ce document ?");
                }
            });
            
            // Nouvelle discussion
            newChatBtn.addEventListener('click', createNewChat);
            headerNewChat.addEventListener('click', createNewChat);
            
            function createNewChat() {
                // Désactiver l'élément actif
                document.querySelector('.history-item.active').classList.remove('active');
                // Activer "Nouvelle discussion"
                document.querySelectorAll('.history-item')[0].classList.add('active');
                
                // Vider la zone de chat
                chatMessages.innerHTML = '';
                
                // Ajouter le message de bienvenue
                addMessage("Bonjour ! Je suis TchoumiIA, votre assistant intelligence artificielle. Comment puis-je vous aider aujourd'hui ?", 'ai');
            }
            
            // Suggestions de l'historique
            historyItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (this.dataset.prompt) {
                        // Si c'est une suggestion, utiliser le prompt
                        addMessage(this.dataset.prompt, 'user');
                        simulateAIResponse();
                    } else {
                        // Sinon, simplement activer l'élément
                        document.querySelector('.history-item.active').classList.remove('active');
                        this.classList.add('active');
                    }
                });
            });
            
            // Questions suggérées
            questionCards.forEach(card => {
                card.addEventListener('click', function() {
                    const question = this.dataset.question;
                    messageInput.value = question;
                    sendMessage();
                });
            });
            
            // Modal paramètres
            settingsBtn.addEventListener('click', function() {
                settingsModal.style.display = 'flex';
            });
            
            closeModalBtn.addEventListener('click', function() {
                settingsModal.style.display = 'none';
            });
            
            window.addEventListener('click', function(e) {
                if (e.target === settingsModal) {
                    settingsModal.style.display = 'none';
                }
            });
            
            // Envoi de message
            sendButton.addEventListener('click', sendMessage);
            
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            function sendMessage() {
                const message = messageInput.value.trim();
                if (message) {
                    addMessage(message, 'user');
                    messageInput.value = '';
                    
                    // Simuler une réponse de l'IA après un délai
                    setTimeout(() => {
                        findResponse(message.toLowerCase());
                    }, 1000);
                }
            }
            
            // Trouver une réponse appropriée
            function findResponse(userMessage) {
                let foundResponse = false;
                
                // Chercher une correspondance dans la base de données
                for (const [question, answers] of Object.entries(questionAnswerDatabase)) {
                    if (userMessage.includes(question)) {
                        const randomIndex = Math.floor(Math.random() * answers.length);
                        simulateAIResponse(answers[randomIndex], true);
                        foundResponse = true;
                        break;
                    }
                }
                
                // Si aucune réponse prédéfinie n'est trouvée
                if (!foundResponse) {
                    if (userMessage.includes("python") || userMessage.includes("code")) {
                        simulateAIResponse("Voici un exemple de code Python :", true, true);
                    } else {
                        simulateAIResponse("Je ne suis pas sûr de comprendre. Pouvez-vous reformuler votre question? ou bien patienter la nouvelle version de moi que vitrice vas developpé, car je serais encore plus intelligent 🤗", true);
                    }
                }
            }
            
            // Ajouter un message au chat
            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.classList.add(sender + '-message');
                
                const headerDiv = document.createElement('div');
                headerDiv.classList.add('message-header');
                headerDiv.classList.add(sender + '-header');
                
                const icon = document.createElement('i');
                icon.className = sender === 'user' ? 'fas fa-user' : 'fas fa-robot';
                
                const span = document.createElement('span');
                span.textContent = sender === 'user' ? 'Vous' : 'TchoumiIA';
                
                headerDiv.appendChild(icon);
                headerDiv.appendChild(span);
                
                const contentDiv = document.createElement('div');
                contentDiv.classList.add('message-content');
                
                const paragraph = document.createElement('p');
                paragraph.textContent = text;
                
                contentDiv.appendChild(paragraph);
                
                const actionsDiv = document.createElement('div');
                actionsDiv.classList.add('message-actions');
                
                const copyBtn = document.createElement('button');
                copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copier';
                
                const likeBtn = document.createElement('button');
                likeBtn.innerHTML = '<i class="fas fa-thumbs-up"></i>';
                
                const dislikeBtn = document.createElement('button');
                dislikeBtn.innerHTML = '<i class="fas fa-thumbs-down"></i>';
                
                actionsDiv.appendChild(copyBtn);
                actionsDiv.appendChild(likeBtn);
                actionsDiv.appendChild(dislikeBtn);
                
                messageDiv.appendChild(headerDiv);
                messageDiv.appendChild(contentDiv);
                messageDiv.appendChild(actionsDiv);
                
                chatMessages.appendChild(messageDiv);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Simuler une réponse de l'IA
            function simulateAIResponse(customResponse, isPredefined = false, withCode = false) {
                // Afficher l'indicateur de frappe
                const typingIndicator = document.createElement('div');
                typingIndicator.classList.add('typing-indicator');
                typingIndicator.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                chatMessages.appendChild(typingIndicator);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Supprimer l'indicateur après un délai et ajouter la réponse
                setTimeout(() => {
                    chatMessages.removeChild(typingIndicator);
                    
                    if (isPredefined) {
                        // Utiliser la réponse prédéfinie
                        addMessage(customResponse, 'ai');
                        
                        // Si on doit ajouter du code
                        if (withCode) {
                            setTimeout(() => {
                                const codeMessage = document.createElement('div');
                                codeMessage.classList.add('message');
                                codeMessage.classList.add('ai-message');
                                
                                codeMessage.innerHTML = `
                                    <div class="message-header ai-header">
                                        <i class="fas fa-robot"></i>
                                        <span>TchoumiIA</span>
                                    </div>
                                    <div class="message-content">
                                        <pre><code># Tri bulle en Python
def tri_bulle(liste):
    n = len(liste)
    for i in range(n):
        for j in range(0, n-i-1):
            if liste[j] > liste[j+1]:
                liste[j], liste[j+1] = liste[j+1], liste[j]
    return liste

# Exemple d'utilisation
ma_liste = [64, 34, 25, 12, 22, 11, 90]
print(tri_bulle(ma_liste))</code></pre>
                                    </div>
                                    <div class="message-actions">
                                        <button><i class="fas fa-copy"></i> Copier</button>
                                        <button><i class="fas fa-thumbs-up"></i></button>
                                        <button><i class="fas fa-thumbs-down"></i></button>
                                    </div>
                                `;
                                
                                chatMessages.appendChild(codeMessage);
                                chatMessages.scrollTop = chatMessages.scrollHeight;
                            }, 300);
                        }
                    } else {
                        // Réponses par défaut
                        const responses = [
                            "Je comprends votre question. L'intelligence artificielle est un domaine fascinant qui évolue rapidement.",
                            "D'après ce que vous me demandez, je pense que vous cherchez à comprendre les concepts fondamentaux du deep learning.",
                            "C'est une excellente question ! Permettez-moi de vous expliquer cela en détail.",
                            "Je suis heureux de pouvoir vous aider avec cela. Voici ce que je peux vous dire sur le sujet.",
                            "Merci pour votre question. Voici quelques informations qui pourraient vous être utiles."
                        ];
                        
                        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                        addMessage(randomResponse, 'ai');
                    }
                }, 2000);
            }
            
            // Fermer la sidebar en cliquant à l'extérieur sur mobile
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768 && 
                    !sidebar.contains(e.target) && 
                    !mobileMenuButton.contains(e.target) &&
                    sidebar.classList.contains('open')) {
                    sidebar.classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>